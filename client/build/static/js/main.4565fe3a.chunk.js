(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,a){e.exports=a.p+"static/media/airplane.000b44a2.svg"},18:function(e,t,a){e.exports=a.p+"static/media/error.367870a7.svg"},19:function(e,t,a){e.exports=a.p+"static/media/truck.2f61aa88.svg"},20:function(e,t,a){e.exports=a.p+"static/media/rocket.b28d223c.svg"},21:function(e,t,a){e.exports=a.p+"static/media/earth.43645caf.svg"},37:function(e,t,a){e.exports=a.p+"static/media/postmark.084504c9.svg"},38:function(e,t,a){e.exports=a.p+"static/media/Yelp_trademark_RGB.9ea57640.png"},39:function(e,t,a){e.exports=a(82)},63:function(e,t,a){},7:function(e,t,a){t.overcast=a(72),t.clearDay=a(73),t.clearNight=a(74),t.cloudyDay=a(75),t.cloudyNight=a(76),t.fog=a(77),t.rain=a(78),t.snow=a(79),t.wind=a(80),t.error=a(81)},72:function(e,t,a){e.exports=a.p+"static/media/overcast.a7770cab.svg"},73:function(e,t,a){e.exports=a.p+"static/media/clearDay.223db1b2.svg"},74:function(e,t,a){e.exports=a.p+"static/media/clearNight.2d144f98.svg"},75:function(e,t,a){e.exports=a.p+"static/media/cloudyDay.3b9cc44d.svg"},76:function(e,t,a){e.exports=a.p+"static/media/cloudyNight.c860321d.svg"},77:function(e,t,a){e.exports=a.p+"static/media/fog.0e9c010c.svg"},78:function(e,t,a){e.exports=a.p+"static/media/rain.4aa86aa8.svg"},79:function(e,t,a){e.exports=a.p+"static/media/snow.d52291c9.svg"},80:function(e,t,a){e.exports=a.p+"static/media/wind.e3768d18.svg"},81:function(e,t,a){e.exports=a.p+"static/media/error.1e51be77.svg"},82:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),l=a(34),c=a.n(l),s=a(2),o=a(3),m=a(5),i=a(4),d=a(6),u=a(13),h=a(14),p=a(12),E=a.n(p),f=(a(63),function(){return n.a.createElement("div",{className:"col-sm-8 order-sm-1 "},n.a.createElement("div",{className:"jumbotron mt-4"},n.a.createElement("h1",null," Welcome to Postcard"),n.a.createElement("p",{className:"lead titleText"},"Safe travels!"),n.a.createElement("hr",{className:"my-4"}),n.a.createElement("p",null,"Wanna quick getaway? Don't feel like browsing multiple sites to find basic travel information? Postcard is here to help."),n.a.createElement("br",null),n.a.createElement("p",null,"Find simple travel information, weather, places of interest, and restaurant options quickly with Postcard!")))}),g=a(15),b=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={signInEmail:"",signInPassword:"",submitted:!1},a.handleInputChange=function(e){var t=e.target.name;a.setState(Object(g.a)({},t,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),E.a.post("/login",{email:a.state.signInEmail.toLowerCase(),password:a.state.signInPassword}).then(function(e){200===e.status?(a.props.userLogIn(),a.setState({submitted:!0})):a.props.history.push("/error")}).catch(function(e){return a.props.history.push("/error")})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return this.state.submitted?n.a.createElement(u.a,{to:"/home"}):n.a.createElement("div",{className:"col-sm-4 order-sm-2"},n.a.createElement("div",{className:"row justify-content-end"},n.a.createElement("div",{className:"col-4 uiTop mt-4"}),n.a.createElement("div",{className:"col-2 border border-dark uiTop mr-4 mt-4"})),n.a.createElement("br",null),n.a.createElement("div",{className:"row justify-content-center mb-2"},n.a.createElement("h4",{className:"text-center titleText font-weight-bold"},"Sign In")),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"signInEmail",className:"titleText"},"Email address"),n.a.createElement("input",{type:"email",className:"form-control",id:"signInEmail",name:"signInEmail",value:this.state.signInEmail,onChange:this.handleInputChange,"aria-describedby":"emailHelp",placeholder:"example@email.com",required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"signInPassword",className:"titleText"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",id:"signInPassword",name:"signInPassword",value:this.state.signInPassword,onChange:this.handleInputChange,placeholder:"Password",required:!0})),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))),n.a.createElement("div",{className:"row justify-content-center my-4"},n.a.createElement("p",{className:"font-weight-bold"},"Not a member?",n.a.createElement("button",{type:"button",className:"btn btn-primary ml-3","data-toggle":"modal","data-target":"#registerModal"},"Register Now"))))}}]),t}(r.Component),v=Object(u.f)(b),N=a(17),y=a.n(N),w=a(19),x=a.n(w),k=a(20),j=a.n(k),I=a(21),O=a.n(I),S=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={email:"",password:"",confirmPassword:"",icon:y.a},a.handleInputChange=function(e){var t=e.target.name;a.setState(Object(g.a)({},t,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),E.a.post("/register",{emailAddress:a.state.email,password:a.state.password,confirmPassword:a.state.confirmPassword,icon:a.state.icon}).then(function(e){200===e.status&&(a.props.userLogIn(),a.props.history.push("/home"))}).catch(function(e){return a.props.history.push("/error")})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){return n.a.createElement("div",{className:"modal fade",id:"registerModal",tabIndex:"-1",role:"dialog","aria-labelledby":"registerModal","aria-hidden":"true"},n.a.createElement("div",{className:"modal-dialog modal-dialog-centered",role:"document"},n.a.createElement("div",{className:"modal-content"},n.a.createElement("div",{className:"modal-header"},n.a.createElement("h5",{className:"titleText font-weight-bold modal-title",id:"registerModalLabel"},"Register"),n.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal","aria-label":"Close"},n.a.createElement("span",{"aria-hidden":"true"},"\xd7"))),n.a.createElement("div",{className:"modal-body"},n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"email"},"Email address"),n.a.createElement("input",{type:"email",className:"form-control",id:"email",name:"email",value:this.state.email,onChange:this.handleInputChange,"aria-describedby":"emailHelp",placeholder:"example@email.com",required:!0}),n.a.createElement("small",{id:"emailHelp",className:"form-text text-muted"},"We'll never share your email with anyone else.")),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"password"},"Password"),n.a.createElement("input",{type:"password",className:"form-control",id:"password",name:"password",value:this.state.password,onChange:this.handleInputChange,placeholder:"Password",required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",{htmlFor:"confirmPassword"},"Confirm password"),n.a.createElement("input",{type:"password",className:"form-control",id:"confirmPassword",name:"confirmPassword",value:this.state.confirmPassword,onChange:this.handleInputChange,placeholder:"Please confirm your password",required:!0})),n.a.createElement("div",{className:"form-group"},n.a.createElement("label",null,"Please select a user icon:"),n.a.createElement("br",null),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"icon",id:"radio1",value:y.a,checked:this.state.icon===y.a,onChange:this.handleInputChange}),n.a.createElement("label",{className:"form-check-label",htmlFor:"radio1"},n.a.createElement("img",{className:"img-fluid",src:y.a,alt:"airplane"}))),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"icon",id:"radio2",value:x.a,checked:this.state.icon===x.a,onChange:this.handleInputChange}),n.a.createElement("label",{className:"form-check-label",htmlFor:"radio2"},n.a.createElement("img",{className:"img-fluid",src:x.a,alt:"truck"}))),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"icon",id:"radio3",value:j.a,checked:this.state.icon===j.a,onChange:this.handleInputChange}),n.a.createElement("label",{className:"form-check-label",htmlFor:"radio3"},n.a.createElement("img",{className:"img-fluid",src:j.a,alt:"rocket"}))),n.a.createElement("div",{className:"form-check form-check-inline"},n.a.createElement("input",{className:"form-check-input",type:"radio",name:"icon",id:"radio4",value:O.a,checked:this.state.icon===O.a,onChange:this.handleInputChange}),n.a.createElement("label",{className:"form-check-label",htmlFor:"radio4"},n.a.createElement("img",{className:"img-fluid",src:O.a,alt:"earth"})))),n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Submit"))))))}}]),t}(r.Component),C=Object(u.f)(S),T=function(e){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement(v,e),n.a.createElement(f,null)),n.a.createElement(C,e))},P=function(){return n.a.createElement("div",{className:"col-sm-8 order-sm-1 w-100"},n.a.createElement("div",{className:"jumbotron mt-4"},n.a.createElement("h1",null," Welcome to Postcard"),n.a.createElement("p",{className:"lead titleText"},"Get started with a search!"),n.a.createElement("hr",{className:"my-4"})))},L=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(e){var t=this.props.searchResults;return n.a.createElement("div",{className:"col-sm-8 order-sm-1"},n.a.createElement("div",{className:"row justify-content-between"},n.a.createElement("div",{className:"col-md-7 mt-4"},n.a.createElement("h1",{className:"text-capitalize"},"Greetings From ",t[4],"!")),n.a.createElement("div",{className:"col-md-5 mt-4 travelResult typeText"},n.a.createElement("table",{className:"table table-borderless"},n.a.createElement("tbody",null,n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},"Distance:"),n.a.createElement("td",null,t[0].tripDistance)),n.a.createElement("tr",null,n.a.createElement("th",{scope:"row"},"Travel Time:"),n.a.createElement("td",null,t[0].tripDuration)))))),n.a.createElement("div",{className:"row justify-content-between mt-3"},n.a.createElement("div",{className:"col-sm-4 col-md-2"},n.a.createElement("h3",{className:"titleText font-weight-bold"},"Weather:")),n.a.createElement("div",{className:"col-sm-8 col-md-9 largerText"},n.a.createElement("p",null,t[1].dailySummary))),n.a.createElement("div",{className:"row"},this.props.weatherIcons.map(function(e,a){return n.a.createElement("div",{key:"d".concat(a),className:"col-lg-4 text-center"},n.a.createElement("div",{className:"card h-100"},n.a.createElement("img",{className:"card-img-top",src:e,alt:"Weather icon"}),n.a.createElement("div",{className:"card-body"},n.a.createElement("p",{className:"card-title"},t[1].dailyData[a].summary),n.a.createElement("p",{className:"card-text"},"High: ",Math.round(t[1].dailyData[a].highTemp)," \u2109"),n.a.createElement("p",{className:"card-text"},"Low: ",Math.round(t[1].dailyData[a].lowTemp)," \u2109"))))})),n.a.createElement("div",{className:"row mt-3 mb-2"},n.a.createElement("h3",{className:"titleText font-weight-bold"},"Explore:")),n.a.createElement("div",{className:"row justify-content-around"},n.a.createElement("div",{className:"col-md-5"},n.a.createElement("p",{className:"titleText largerText"},"Check these places out"),n.a.createElement("ol",null,t[2].placeData.map(function(e,t){return n.a.createElement("li",{key:"b".concat(t)},n.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-reset largerText"},e.title),n.a.createElement("br",null),n.a.createElement("p",null,e.address.toString().replace(/,(?!\s)/g,", ")))}))),n.a.createElement("div",{className:"col-md-5"},n.a.createElement("p",{className:"titleText largerText"},"I hope you're hungry"),n.a.createElement("ol",null,t[3].foodData.map(function(e,t){return n.a.createElement("li",{key:"c".concat(t)},n.a.createElement("a",{href:e.link,target:"_blank",rel:"noopener noreferrer",className:"text-reset largerText"},e.title),n.a.createElement("br",null),n.a.createElement("p",null,e.address.toString().replace(/,(?!\s)/g,", ")))})))))}}]),t}(r.Component),D=a(37),q=a.n(D),F=a(38),R=a.n(F),A=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,n=new Array(r),l=0;l<r;l++)n[l]=arguments[l];return(a=Object(m.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(n)))).state={startLocation:"",destination:"",userIcon:"",userPreviousSearches:[],loggedOut:!1},a.handleInputChange=function(e){var t=e.target.name;a.setState(Object(g.a)({},t,e.target.value))},a.handleSubmit=function(e){e.preventDefault(),a.props.switchStates(),a.props.performSearch(a.state.startLocation,a.state.destination),a.updateUserInfo()},a.handleLogOut=function(e){e.preventDefault(),E.a.get("/logout").then(function(e){200===e.status&&a.setState({loggedOut:!0})}).catch(function(e){return a.props.history.push("/error")})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){this.updateUserInfo();var e=document.querySelector("body");"modal-open"===e.getAttribute("class")&&(e.setAttribute("class",""),document.querySelector(".modal-backdrop").style.display="none")}},{key:"updateUserInfo",value:function(){var e=this;E.a.get("/user").then(function(t){var a=t.data;e.setState({userIcon:a.icon,userPreviousSearches:a.searches})}).catch(function(t){return e.props.history.push("/error")})}},{key:"render",value:function(){return this.state.loggedOut?n.a.createElement(u.a,{to:"/"}):n.a.createElement("div",{className:"col-md-4 order-md-2"},n.a.createElement("div",{className:"row justify-content-end"},n.a.createElement("div",{className:"col-auto col-md-4 uiTop mt-4"},this.props.searched&&n.a.createElement("img",{className:"img-fluid",src:q.a,alt:"Travel stamp"})),n.a.createElement("div",{className:" col-2 uiTop mt-4 stamp text-center"},n.a.createElement("img",{src:this.state.userIcon,alt:"Profile icon"}))),n.a.createElement("br",null),n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("form",{onSubmit:this.handleSubmit},n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"destination",className:"titleText font-weight-bold col-sm-2 col-form-label"},"To:"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{type:"text",className:"form-control",id:"destination",name:"destination",value:this.state.destination,onChange:this.handleInputChange,placeholder:"City, State",required:!0}))),n.a.createElement("div",{className:"form-group row"},n.a.createElement("label",{htmlFor:"startLocation",className:"titleText font-weight-bold col-sm-2 col-form-label"},"From:"),n.a.createElement("div",{className:"col-sm-10"},n.a.createElement("input",{type:"text",className:"form-control",id:"startLocation",name:"startLocation",value:this.state.startLocation,onChange:this.handleInputChange,placeholder:"City, State",required:!0}))),n.a.createElement("div",{className:"row justify-content-end"},n.a.createElement("div",{className:"col-5 col-sm-4 col-md-5"},n.a.createElement("button",{type:"submit",className:"btn btn-primary"},"Send")),n.a.createElement("div",{className:"col-5 col-sm-6 col-md-5"},n.a.createElement("button",{type:"button",className:"btn btn-primary btn-logout",onClick:this.handleLogOut},"Log Out"))))),n.a.createElement("div",{className:"row my-5"},n.a.createElement("div",{className:"col"},n.a.createElement("h3",{className:"text-center titleText font-weight-bold"},"Previous Trips"),n.a.createElement("hr",{className:"my-2"}),n.a.createElement("ol",null,this.state.userPreviousSearches&&this.state.userPreviousSearches.map(function(e,t){return n.a.createElement("li",{key:"a".concat(t),className:"text-capitalize"},n.a.createElement("p",null,"to ",e[1]),n.a.createElement("p",null,"from ",e[0]))})))),n.a.createElement("div",{className:"row justify-content-between"},n.a.createElement("div",{className:"col-8 px-0 px-sm-1 col-md-6 col-lg-7 align-self-center text-center"},n.a.createElement("p",{className:"mb-0 my-auto"},n.a.createElement("a",{href:"https://darksky.net/",target:"_blank",rel:"noopener noreferrer",className:"text-reset"},"Weather powered by Darksky"))),n.a.createElement("div",{className:"my-auto col-4 yelpContainer align-self-center mr-md-3"},n.a.createElement("a",{href:"https://www.yelp.com/",target:"_blank",rel:"noopener noreferrer"},n.a.createElement("img",{className:"img-fluid",src:R.a,alt:"Yelp logo"})))))}}]),t}(r.Component),M=Object(u.f)(A),W=function(){return n.a.createElement("div",{className:"col-sm-8 order-sm-1 w-100"},n.a.createElement("div",{className:"jumbotron mt-4"},n.a.createElement("h1",null," Loading"),n.a.createElement("p",{className:"lead"},"Thanks for being patient!"),n.a.createElement("hr",{className:"my-4"}),n.a.createElement("p",{className:"typeText"},"Traditional mail was much worse, trust me.")))},_=function(e){var t;return t=e.loading?n.a.createElement(W,null):e.searched?n.a.createElement(L,{weatherIcons:e.weatherIcons,searchResults:e.searchResults}):n.a.createElement(P,null),e.userLoggedIn?n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row"},n.a.createElement(M,Object.assign({},e,{searched:e.searched,switchStates:e.switchStates,performSearch:e.performSearch})),t)):n.a.createElement(u.a,{to:"/error"})},H=a(18),G=a.n(H),U=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector("body");"modal-open"===e.getAttribute("class")&&(e.setAttribute("class",""),document.querySelector(".modal-backdrop").style.display="none")}},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col"},n.a.createElement("img",{className:"img-fluid mx-auto d-block",src:G.a,alt:"Error icon"}))),n.a.createElement("div",{className:"row justify-content-center mt-5"},n.a.createElement("div",{className:"col text-center"},n.a.createElement("h1",null,"Oh no!"),n.a.createElement("br",null),n.a.createElement("p",{className:"largestText"},"There appears to have been an error. Please return home and try again."),n.a.createElement("button",{type:"button",className:"btn btn-primary btn-logout"},n.a.createElement("a",{href:"/",className:"text-reset"},"Return home")))))}}]),t}(r.Component),z=function(e){function t(){return Object(s.a)(this,t),Object(m.a)(this,Object(i.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(o.a)(t,[{key:"componentDidMount",value:function(){var e=document.querySelector("body");"modal-open"===e.getAttribute("class")&&(e.setAttribute("class",""),document.querySelector(".modal-backdrop").style.display="none")}},{key:"render",value:function(){return n.a.createElement("div",{className:"container"},n.a.createElement("div",{className:"row justify-content-center"},n.a.createElement("div",{className:"col"},n.a.createElement("img",{className:"img-fluid mx-auto d-block",src:G.a,alt:"Error icon"}))),n.a.createElement("div",{className:"row justify-content-center mt-5"},n.a.createElement("div",{className:"col text-center"},n.a.createElement("h1",null,"404 - Page Not Found"),n.a.createElement("br",null),n.a.createElement("p",{className:"largestText"},"There appears to have been an error. Please return home and try again."),n.a.createElement("button",{type:"button",className:"btn btn-primary btn-logout"},n.a.createElement("a",{href:"/",className:"text-reset"},"Return home")))))}}]),t}(r.Component),B=a(7),J=a.n(B),Y=function(e){function t(){var e,a;Object(s.a)(this,t);for(var r=arguments.length,l=new Array(r),c=0;c<r;c++)l[c]=arguments[c];return(a=Object(m.a)(this,(e=Object(i.a)(t)).call.apply(e,[this].concat(l)))).state={loading:!1,userLoggedIn:!1,searched:!1,searchResults:[],weatherIcons:[]},a.displayWeatherIcons=function(e){var t=["clear-day","clear-night","rain","snow","sleet","wind","fog","cloudy","partly-cloudy-day","partly-cloudy-night"],r=[J.a.clearDay,J.a.clearNight,J.a.rain,J.a.snow,J.a.snow,J.a.wind,J.a.fog,J.a.overcast,J.a.cloudyDay,J.a.cloudyNight],n=[];e.forEach(function(e){if(e.icon){var a=t.findIndex(function(t){return t===e.icon});-1===a?n.push(J.a.error):n.push(r[a])}else n.push(J.a.error)}),a.setState({weatherIcons:n})},a.switchLoadAndSearch=function(){a.setState({loading:!0,searched:!1})},a.performSearch=function(e,t){E.a.get("/api/v1/postcard?start=".concat(e,"&dest=").concat(t)).then(function(e){a.setState({searchResults:e.data,loading:!1,searched:!0}),a.displayWeatherIcons(a.state.searchResults[1].dailyData)}).catch(function(e){return n.a.createElement(u.a,{to:"/error"})})},a.userLogIn=function(){a.setState({userLoggedIn:!0})},a}return Object(d.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this;return n.a.createElement(h.a,null,n.a.createElement(u.d,null,n.a.createElement(u.b,{exact:!0,path:"/",render:function(t){return n.a.createElement(T,Object.assign({},t,{userLogIn:e.userLogIn}))}}),n.a.createElement(u.b,{exact:!0,path:"/home",render:function(t){return n.a.createElement(_,Object.assign({},t,{searched:e.state.searched,loading:e.state.loading,weatherIcons:e.state.weatherIcons,searchResults:e.state.searchResults,performSearch:e.performSearch,switchStates:e.switchLoadAndSearch,userLoggedIn:e.state.userLoggedIn}))}}),n.a.createElement(u.b,{exact:!0,path:"/error",component:U}),n.a.createElement(u.b,{component:z})))}}]),t}(r.Component);c.a.render(n.a.createElement(Y,null),document.getElementById("root"))}},[[39,1,2]]]);
//# sourceMappingURL=main.4565fe3a.chunk.js.map